# 文档风格设计指南

本指南基于 vtzac 项目的文档重构经验，旨在为所有项目文档提供统一的编写规范。

## 核心原则

1. **功能导向**：重点说明功能，而非原理解释
2. **简洁实用**：避免冗余信息，专注于开发者实际需要的内容
3. **示例驱动**：通过清晰的代码示例说明用法
4. **一致性**：保持格式、风格、术语的统一

## 标题规范

### 主标题

- 使用 `# 标题名称` 格式
- 标题要简洁明了，不超过 15 个字符
- 避免使用过于技术化的术语

### 二级标题

- 使用 `## 功能名称：简短描述` 格式
- 例如：`## HTTP：类型安全的控制器方法调用`
- 例如：`## WebSocket：发送器与监听器的双向类型安全`

### 三级标题

- 使用 `### 具体功能点` 格式
- 保持简洁，一般不超过 10 个字符

## 代码示例规范

### 示例标题格式

使用粗体标记，统一格式：

- `**后端控制器示例：**`
- `**前端调用示例：**`
- `**事件定义示例：**`
- `**服务端发送示例：**`
- `**配置示例：**`

### 代码块格式

```ts
// 代码内容
import { Controller, Get } from '@nestjs/common';

@Controller('api')
export class AppController {
  @Get('hello')
  getHello(): string {
    return 'Hello World!';
  }
}
```

### 注释规范

1. **输出注释**：所有 `console.log` 必须添加输出说明

   ```ts
   console.log(res._data); // 输出：'Hello World!'
   console.log('在线人数:', counter.count); // 输出：在线人数: 5
   ```

2. **功能注释**：关键代码行添加功能说明

   ```ts
   // 创建控制器实例（指定后端地址）
   const api = _http({
     ofetchOptions: { baseURL: 'http://localhost:3000', timeout: 5000 },
   }).controller(AppController);

   // 直接以类型安全的方式调用后端方法
   const res = await api.getHello();
   ```

## 请求描述规范

### HTTP 请求描述

使用统一的代码块格式：

```
// 实际会发起的请求：
// GET /api/hello
// 返回的内容：
// 'Hello World!'
```

### WebSocket 事件描述

```
// 实际会发起的 WebSocket 事件：
// emit 'handleJoinChat' { nickname: 'Alice' }
// emit 'handlePublicMessage' { text: 'Hello everyone!' }
// emit 'handleGetOnlineCount' (with ACK)
// 监听事件：'publicMessage', 'error'
```

### 服务端事件描述

```
// 实际会发送的事件：
// 向房间 'public' 中的所有客户端发送 'publicMessage' 事件
// 事件数据：{ text: 'Hello!' }
```

## 链接使用规范

### 避免使用的链接

- ❌ GitHub 文件链接（如：`[file.ts](https://github.com/...)`）
- ❌ 过多的外部参考链接
- ❌ 示例文件路径说明

### 推荐使用的链接

- ✅ 文档内部跳转（如：见「开始使用」）
- ✅ 官方文档链接（必要时）
- ✅ 相关配置文档链接

## 内容组织规范

### 文档结构

1. **概述**：简短介绍功能和用途
2. **核心功能**：按功能模块分段说明
3. **示例代码**：每个功能都要有完整示例
4. **实际效果**：说明代码执行后的实际结果
5. **下一步**：引导用户进行后续操作

### 段落组织

- 每个功能点独立成段
- 先说明功能，再给示例，最后说明效果
- 避免长段落，保持内容的可读性

## 术语使用规范

### 统一术语

- 使用「前端」而非「客户端」
- 使用「后端」而非「服务端」（除非特指服务端代码）
- 使用「控制器」而非「Controller」
- 使用「方法」而非「函数」或「接口」

### 技术术语

- 保持英文：HTTP、WebSocket、API、ACK
- 中文化：类型安全、零配置、工作区

## 示例数据规范

### 使用真实但简单的示例

- ✅ `{ nickname: 'Alice' }`
- ✅ `{ text: 'Hello everyone!' }`
- ✅ `'Hello World!'`
- ❌ 复杂的业务数据
- ❌ 过长的示例内容

### 保持示例的一致性

- 同一文档中使用相同的示例数据
- 不同文档间保持示例风格一致
- 示例要能直接运行，不需要额外配置

## 格式细节

### 代码引用

- 行内代码使用反引号：`_http`、`res._data`
- 文件名使用反引号：`package.json`、`vite.config.ts`

### 列表格式

- 功能列表使用 `-`
- 步骤列表使用数字 `1.`、`2.`
- 嵌套列表保持缩进一致

### 强调格式

- 重要概念使用粗体：**类型安全**、**零配置**
- 避免使用斜体
- 关键操作可以使用引号：「开始使用」

## 质量检查清单

编写完成后，检查以下项目：

- [ ] 标题层级清晰，不超过 3 级
- [ ] 每个代码示例都有对应的效果说明
- [ ] 所有 console.log 都有输出注释
- [ ] 请求描述使用统一格式
- [ ] 没有多余的 GitHub 链接
- [ ] 术语使用统一
- [ ] 示例数据简单真实
- [ ] 内容专注于功能说明
- [ ] 格式符合规范要求

遵循这个风格指南，可以确保所有文档保持一致的高质量标准，便于开发者理解和使用。
